import{_ as j,a as P,b as T}from"./chunks/Contributors.vue_vue_type_script_setup_true_lang.052e419c.js";import{r as i,j as t,a as x}from"./chunks/jsx-runtime.489a0d3a.js";import{C as O}from"./chunks/index.ce9b523d.js";import{g as H,m as R,r as V,C as G,c as W,B as F}from"./chunks/EllipsisOutlined.5d421715.js";import{P as L}from"./chunks/ObjectInProps3.8d28d75c.js";import{h as D,C as f,o as _,c as J,k as d,b as Y,w as u,a0 as Q,H as m,Q as C,a as S}from"./chunks/framework.27021b64.js";import"./chunks/commonjsHelpers.725317a4.js";import"./chunks/CloseOutlined.9c3246b4.js";import"./chunks/Serializer.fad5b415.js";const U=s=>{const{componentCls:n,sizePaddingEdgeHorizontal:p,colorSplit:a,lineWidth:l,textPaddingInline:y,orientationMargin:e,verticalMarginInline:o}=s;return{[n]:Object.assign(Object.assign({},V(s)),{borderBlockStart:`${l}px solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:o,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${l}px solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${s.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${n}-with-text`]:{display:"flex",alignItems:"center",margin:`${s.dividerHorizontalWithTextGutterMargin}px 0`,color:s.colorTextHeading,fontWeight:500,fontSize:s.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${l}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${n}-with-text-left`]:{"&::before":{width:`${e*100}%`},"&::after":{width:`${100-e*100}%`}},[`&-horizontal${n}-with-text-right`]:{"&::before":{width:`${100-e*100}%`},"&::after":{width:`${e*100}%`}},[`${n}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:y},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${l}px 0 0`},[`&-horizontal${n}-with-text${n}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${n}-dashed`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${n}-with-text`]:{color:s.colorText,fontWeight:"normal",fontSize:s.fontSize},[`&-horizontal${n}-with-text-left${n}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${n}-inner-text`]:{paddingInlineStart:p}},[`&-horizontal${n}-with-text-right${n}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${n}-inner-text`]:{paddingInlineEnd:p}}})}},X=H("Divider",s=>{const n=R(s,{dividerHorizontalWithTextGutterMargin:s.margin,dividerHorizontalGutterMargin:s.marginLG,sizePaddingEdgeHorizontal:0});return[U(n)]},s=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:s.marginXS}));var Z=globalThis&&globalThis.__rest||function(s,n){var p={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&n.indexOf(a)<0&&(p[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(p[a[l]]=s[a[l]]);return p};const ss=s=>{const{getPrefixCls:n,direction:p,divider:a}=i.useContext(G),{prefixCls:l,type:y="horizontal",orientation:e="center",orientationMargin:o,className:E,rootClassName:r,children:b,dashed:v,plain:M,style:k}=s,N=Z(s,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),c=n("divider",l),[$,K]=X(c),w=e.length>0?`-${e}`:e,g=!!b,B=e==="left"&&o!=null,A=e==="right"&&o!=null,z=W(c,a==null?void 0:a.className,K,`${c}-${y}`,{[`${c}-with-text`]:g,[`${c}-with-text${w}`]:g,[`${c}-dashed`]:!!v,[`${c}-plain`]:!!M,[`${c}-rtl`]:p==="rtl",[`${c}-no-default-orientation-margin-left`]:B,[`${c}-no-default-orientation-margin-right`]:A},E,r),h=i.useMemo(()=>typeof o=="number"?o:/^\d+$/.test(o)?Number(o):o,[o]),I=Object.assign(Object.assign({},B&&{marginLeft:h}),A&&{marginRight:h});return $(i.createElement("div",Object.assign({className:z,style:Object.assign(Object.assign({},a==null?void 0:a.style),k)},N,{role:"separator"}),b&&y!=="vertical"&&i.createElement("span",{className:`${c}-inner-text`,style:I},b)))},q=ss;function ns(){const[s,n]=i.useState(1e7),[p,a]=i.useState(1e7),[l,y]=i.useState(0),e=()=>{console.log("maxKey Calculating sum...");let E=0;for(let r=1;r<=p;r++)E+=r;return E},o=i.useMemo(()=>{console.log("maxNumber Calculating sum...");let E=0;for(let r=1;r<=s;r++)E+=r;return E},[s]);return t.jsxs(O,{title:"案例 demo",extra:t.jsx("span",{children:"在控制台查看打印结果"}),children:[t.jsxs("p",{children:["最大数字 maxKey: ",p]}),t.jsxs("p",{children:["从 1 到 ",p," 的数字之和是: ",e()]}),t.jsx(F,{onClick:()=>a(p-100),type:"primary",children:"maxKey - 100"}),t.jsx(q,{children:"使用 useMemo"}),t.jsxs("p",{children:["最大数字 maxNumber: ",s]}),t.jsxs("p",{children:["从 1 到 ",s," 的数字之和是: ",o]}),t.jsx(F,{onClick:()=>n(s-100),type:"primary",children:"maxNumber - 100"}),t.jsx(q,{children:"无关按钮"}),t.jsxs("p",{children:["Count 按钮点击次数：",l]}),t.jsx(F,{type:"primary",onClick:()=>y(l+1),children:"Count + 1"})]})}const as=C("",10),ls=C("",6),ps=C("",2),os=d("h2",{id:"贡献者",tabindex:"-1"},[S("贡献者 "),d("a",{class:"header-anchor",href:"#贡献者","aria-label":'Permalink to "贡献者"'},"​")],-1),bs=JSON.parse('{"title":"React Hooks 系列 之 useMemo","description":"","frontmatter":{},"headers":[],"relativePath":"framework/react/hooks/use-memo.md","filePath":"framework/react/hooks/use-memo.md","lastUpdated":1691997222000}'),es={name:"framework/react/hooks/use-memo.md"},Fs=Object.assign(es,{setup(s){const n=D(null),p=D(null);return x(ns,n),x(L,p),(a,l)=>{const y=f("Mermaid"),e=j,o=f("ClientOnly"),E=P,r=T;return _(),J("div",null,[as,d("div",{ref_key:"useMemo1",ref:n},null,512),ls,d("div",{ref_key:"useMemo2",ref:p},null,512),ps,(_(),Y(Q,null,{default:u(()=>[m(y,{id:"mermaid-73",class:"eita",graph:"graph%20TD%0A%20%20%20%20A%5B%E8%B0%83%E7%94%A8useMemo%5D%0A%20%20%20%20B%5B%E5%88%9B%E5%BB%BA%2F%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%BB%84%E4%BB%B6%E7%9A%84Fiber%E8%8A%82%E7%82%B9%5D%0A%20%20%20%20C%5B%E6%A3%80%E6%9F%A5Fiber%E8%8A%82%E7%82%B9%E4%B8%8A%E7%9A%84hooks%E9%93%BE%E8%A1%A8-%E6%AF%8F%E4%B8%AA%E8%8A%82%E7%82%B9%E5%AF%B9%E5%BA%94%E4%B8%80%E4%B8%AAhook%5D%0A%20%20%20%20D%5B%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E5%AF%B9%E5%BA%94%E7%9A%84hook%E5%AF%B9%E8%B1%A1%3F%5D%0A%20%20%20%20E%5B%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84hook%E5%AF%B9%E8%B1%A1%5D%0A%20%20%20%20F%5B%E6%A3%80%E6%9F%A5hook%E5%AF%B9%E8%B1%A1%E7%9A%84memoizedState%E5%B1%9E%E6%80%A7%5D%0A%20%20%20%20G%5B%E4%BE%9D%E8%B5%96%E9%A1%B9%E6%98%AF%E5%90%A6%E6%94%B9%E5%8F%98%3F%5D%0A%20%20%20%20H%5B%E4%BB%8EmemoizedState%E8%8E%B7%E5%8F%96%E5%80%BC%5D%0A%20%20%20%20I%5B%E9%87%8D%E6%96%B0%E8%AE%A1%E7%AE%97%E5%80%BC%5D%0A%20%20%20%20J%5B%E6%9B%B4%E6%96%B0memoizedState%E5%B1%9E%E6%80%A7%5D%0A%20%20%20%20K%5B%E8%BF%94%E5%9B%9Ememoized%E5%80%BC%5D%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%20No%20--%3E%20E%0A%20%20%20%20D%20--%20Yes%20--%3E%20F%0A%20%20%20%20E%20--%3E%20F%0A%20%20%20%20F%20--%3E%20G%0A%20%20%20%20G%20--%20No%20--%3E%20H%20--%3E%20K%0A%20%20%20%20G%20--%20Yes%20--%3E%20I%20--%3E%20J%20--%3E%20K%0A"})]),fallback:u(()=>[S(" Loading... ")]),_:1})),os,m(o,null,{default:u(()=>[m(e)]),_:1}),m(o,null,{default:u(()=>[m(E)]),_:1}),m(o,null,{default:u(()=>[m(r)]),_:1})])}}});export{bs as __pageData,Fs as default};
