import{_ as q,a as v,b as k}from"./chunks/Contributors.vue_vue_type_script_setup_true_lang.052e419c.js";import{r as l,j as a,a as i}from"./chunks/jsx-runtime.489a0d3a.js";import{m as c}from"./chunks/index.b0ad1619.js";import{C as f}from"./chunks/index.ce9b523d.js";import{B as E}from"./chunks/EllipsisOutlined.5d421715.js";import{b as _}from"./chunks/baseIsEqual.1073ee2f.js";import{S as I}from"./chunks/index.86888617.js";import{h as u,C as d,o as C,c as S,k as t,b as x,w as r,a0 as j,H as e,Q as y,a as g}from"./chunks/framework.27021b64.js";import"./chunks/commonjsHelpers.725317a4.js";import"./chunks/CloseOutlined.9c3246b4.js";import"./chunks/CloseCircleFilled.901bf2d5.js";import"./chunks/Serializer.fad5b415.js";import"./chunks/getTag.55064484.js";import"./chunks/isObjectLike.46b91259.js";function T(s,n){return _(s,n)}function P(){const[s,n]=l.useState({name:"John",age:25});l.useEffect(()=>{c.info("useEffect has run due to userInfo object reference change.")},[s]);const p=()=>{n({...s})};return a.jsxs(f,{title:"案例 demo",children:[a.jsx("pre",{children:JSON.stringify(s,null,2)}),a.jsx(E,{onClick:p,type:"primary",children:"change userInfo"})]})}const b={name:"John",age:25};function U(){const[s,n]=l.useState(0);l.useEffect(()=>{c.info("useEffect has run due to userInfo object reference change.")},[b]);const p=()=>{n(s+1),b.age=b.age+1};return a.jsxs(f,{title:"案例 demo",children:[a.jsxs("p",{children:["count: ",s]}),a.jsx(E,{onClick:p,type:"primary",children:"change userInfo"})]})}const R=(s,n)=>{const p=l.useRef(),o=l.useRef(0);(n===void 0||!T(n,p.current))&&(p.current=n,o.current+=1),l.useEffect(s,[o.current])};function J(){const[s,n]=l.useState({name:"John",age:25});l.useEffect(()=>{c.info("useEffect has run due to userInfo object value change.")},[s]),l.useEffect(()=>{c.info("useEffect JSON.stringify has run due to userInfo object value change.")},[JSON.stringify(s)]),R(()=>{c.info("useDeepCompareEffect has run due to userInfo object value change.")},[s]);const p=()=>{n({...s})},o=()=>{n({...s,age:s.age+1})};return a.jsxs(f,{title:"案例 demo",children:[a.jsx("pre",{children:JSON.stringify(s,null,2)}),a.jsxs(I,{children:[a.jsx(E,{onClick:p,type:"primary",children:"深拷贝useInfo"}),a.jsx(E,{onClick:o,type:"primary",children:"age+1"})]})]})}function N(){const[s,n]=l.useState(0);return l.useEffect(()=>(c.info(`Effect for count: ${s}`),()=>{c.info(`Cleanup for count: ${s}`)}),[s]),a.jsxs(f,{title:"案例 demo",children:[a.jsxs("p",{children:["Count: ",s]}),a.jsx(E,{onClick:()=>n(s+1),type:"primary",children:"change count"})]})}const w=y("",25),V=y("",11),O=y("",3),$=y("",7),H=y("",2),M=t("h2",{id:"贡献者",tabindex:"-1"},[g("贡献者 "),t("a",{class:"header-anchor",href:"#贡献者","aria-label":'Permalink to "贡献者"'},"​")],-1),ts=JSON.parse('{"title":"React Hooks 系列 之 useEffect","description":"","frontmatter":{},"headers":[],"relativePath":"framework/react/hooks/use-effect.md","filePath":"framework/react/hooks/use-effect.md","lastUpdated":1691561959000}'),G={name:"framework/react/hooks/use-effect.md"},rs=Object.assign(G,{setup(s){const n=u(null),p=u(null),o=u(null),m=u(null);return i(P,n),i(U,p),i(J,o),i(N,m),(K,L)=>{const h=d("Mermaid"),B=q,F=d("ClientOnly"),A=v,D=k;return C(),S("div",null,[w,t("div",{ref_key:"useEffect4",ref:m},null,512),V,t("div",{ref_key:"useEffect1",ref:n},null,512),O,t("div",{ref_key:"useEffect2",ref:p},null,512),$,t("div",{ref_key:"useEffect3",ref:o},null,512),H,(C(),x(j,null,{default:r(()=>[e(h,{id:"mermaid-148",class:"eita",graph:"graph%20TD%0AA%5B%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%5D%20--%3E%20B%5B%E8%B0%83%E7%94%A8%20useEffect%5D%0AB%20--%3E%20C%5BpushEffect%20-%20%E5%B0%86%E5%89%AF%E4%BD%9C%E7%94%A8%E5%92%8C%E4%BE%9D%E8%B5%96%E6%B7%BB%E5%8A%A0%E5%88%B0%E9%98%9F%E5%88%97%5D%0AC%20--%3E%20D%5B%E6%A3%80%E6%9F%A5%E4%BE%9D%E8%B5%96%20-%20areHookInputsEqual%5D%0AD%20--%3E%7C%E4%BE%9D%E8%B5%96%E6%9C%AA%E5%8F%98%E5%8C%96%7C%20E%5B%E8%B7%B3%E8%BF%87%E5%89%AF%E4%BD%9C%E7%94%A8%5D%0AD%20--%3E%7C%E4%BE%9D%E8%B5%96%E5%8F%98%E5%8C%96%7C%20F%5B%E6%89%A7%E8%A1%8C%E5%89%AF%E4%BD%9C%E7%94%A8%20-%20commitHookEffectList%5D%0AF%20--%3E%20G%5B%E8%BF%94%E5%9B%9E%E6%B8%85%E9%99%A4%E5%87%BD%E6%95%B0%3F%5D%0AG%20--%3E%7C%E6%98%AF%7C%20H%5B%E4%B8%8B%E6%AC%A1%20effect%20%E6%88%96%E7%BB%84%E4%BB%B6%E5%8D%B8%E8%BD%BD%E6%97%B6%E6%89%A7%E8%A1%8C%E6%B8%85%E9%99%A4%E5%87%BD%E6%95%B0%20-%20runEffectWithCleanUp%5D%0AG%20--%3E%7C%E5%90%A6%7C%20I%5B%E4%B8%8D%E6%89%A7%E8%A1%8C%E6%B8%85%E9%99%A4%E6%93%8D%E4%BD%9C%5D%0A"})]),fallback:r(()=>[g(" Loading... ")]),_:1})),M,e(F,null,{default:r(()=>[e(B)]),_:1}),e(F,null,{default:r(()=>[e(A)]),_:1}),e(F,null,{default:r(()=>[e(D)]),_:1})])}}});export{ts as __pageData,rs as default};
